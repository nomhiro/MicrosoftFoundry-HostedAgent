<!--
同期影響レポート
================
バージョン変更: N/A → 1.0.0
変更された原則: なし（初回作成）
追加セクション: 基本原則 (5), 技術制約, 開発ワークフロー, ガバナンス
削除セクション: なし
テンプレート更新:
  - .specify/templates/plan-template.md ✅ (互換)
  - .specify/templates/spec-template.md ✅ (互換)
  - .specify/templates/tasks-template.md ✅ (互換)
フォローアップ TODO: なし
-->

# Microsoft Foundry Hosted Agent PoC 憲章

## 基本原則

### I. PoC優先の考え方

すべての実装判断において、本番レディよりも概念実証を優先しなければならない。

- 機能は意図した動作をデモンストレーションできる程度に完成させること
- コードはブログ読者にとって明確で教育的であること
- 学習目的を損なわない範囲でのショートカットは許容される
- 過剰な設計は避けること。複雑性には明示的な正当化が必要

**理由**: このプロジェクトはZennブログ記事を通じてMicrosoft Foundry Hosted Agentの概念を教えるために存在する。

### II. 仕様駆動開発

すべての実装はSpeckitワークフローに従わなければならない。

- 実装開始前に機能仕様書を作成すること
- 曖昧性を解消するための明確化を行うこと
- コーディング前に実装計画を作成すること
- タスクは計画から生成すること（その場しのぎは禁止）

**理由**: 仕様駆動開発により、ドキュメント（ブログ）と実装の整合性が確保される。

### III. Azure ネイティブ統合

システムはMicrosoft Foundry向けに設計されたAzureサービスを活用しなければならない。

- Hosted AgentはMicrosoft Agent Framework（Python）を使用すること
- バックエンドはAzure Functions（Flex Consumption）にデプロイすること
- コンテナイメージはAzure Container Registryに保存すること
- エージェントはMicrosoft Foundryにデプロイすること

**理由**: このPoCは実際のAzure統合パターンをデモンストレーションする。

### IV. MCPプロトコル準拠

ツール通信はModel Context Protocol（MCP）標準に従わなければならない。

- MCPサーバーは明確な入出力コントラクトを持つツールを公開すること
- ツール関数にはパラメータ説明を含むdocstringを含めること
- エラーレスポンスは構造化され、情報を含むこと
- ツール名は説明的でアクション指向であること

**理由**: MCPはFoundryエージェント-ツール通信の標準プロトコルである。

### V. 完全性より簡潔性

実装は簡潔さを優先しなければならない。

- データはJSONファイルに保存すること（データベース不要）
- 認証はAPIキーを使用すること（PoCではManaged Identity不要）
- エラー処理は最小限だが存在すること
- ロギングはPoCの明確さのために省略可能

**理由**: ブログ読者のセットアップ複雑性を軽減しつつ、機能的なデモンストレーションを維持する。

## 技術制約

| コンポーネント | 技術 | 理由 |
|--------------|------|------|
| 言語 | Python 3.11+ | Agent Frameworkの要件 |
| パッケージ管理 | uv | モダンで高速な依存関係管理 |
| MCPサーバー | Azure Functions | コスト効率のためFlex Consumption |
| エージェント | Microsoft Agent Framework | Foundryとのネイティブ統合 |
| コンテナ | Docker | 標準的なコンテナ化 |
| レジストリ | Azure Container Registry | FoundryのRBACと統合 |

## 開発ワークフロー

以下のSpeckitコマンドを順番に使用すること:

1. `/speckit.specify` - 機能仕様書の作成
2. `/speckit.clarify` - 曖昧性の解消
3. `/speckit.plan` - 実装計画の作成
4. `/speckit.tasks` - タスクリストの生成
5. `/speckit.implement` - 実装の実行

**例外**: 軽微な変更（タイポ、フォーマット）は直接編集可。

## ガバナンス

この憲章はこのPoCのすべての開発判断を統治する。

- 修正にはこのファイルの更新とバージョン番号の増分が必要
- すべての貢献者（人間およびAI）は実装前にコンプライアンスを確認すること
- 複雑性の違反はplan.mdに正当化を文書化すること
- 憲章はテンプレートや外部ドキュメントの矛盾するガイダンスに優先する

**バージョン**: 1.0.0 | **制定日**: 2026-01-31 | **最終修正日**: 2026-01-31
